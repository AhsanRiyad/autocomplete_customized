<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.4.4/babel.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="./style.css">
    
    <title>Document</title>

</head>
<body>
    <!-- <div x-data="data()"  x-init="$watch('value', value => console.log('i am okay'))" x-init="$watch('items', value => console.log('i am okay'))" >

        <div class="autcomplete">
            <input  x-on:input="valueChange($event.target.value)" x-model="value" class="inputField" placeholder="Country"    />
            <div class="autcomplete_items" >
                <template  x-for="item in items" :key="item">
                    <div class="autcomplete_div" x-text="item.name"></div>
                </template>
            </div>
        </div>

        <div>
            other data
        </div> 
        
    </div> -->
<!-- 
    <div class="flex-container-autcomplete" x-data="data()" x-init="$watch('value', value => console.log('i am okay'))">
        
        <div class="autcomplete1">
            <div>
                <input x-on:input="valueChange($event.target.value)" x-model="value" class="input1" />
            </div>
          <div class="autcomplete_items1">
                <template x-for="item in items" :key="item">
                    <div class="autcomplete_div" x-text="item.name"></div>
                </template>
            </div> 
        </div> 

        <div class="autcomplete2">
            <div>
                <input class="input2" />
            </div>
            <div>
                this is another
            </div>
        </div>
        <div>
            <button class="button1"> Submit </button>
        </div>

    </div> -->


    <div class="autcomplete-position" x-data="data()" x-init="$watch('category', value => categoryChange(value))"
        x-init="$watch('product', value => productChange(value))"
        
        >
        <div class="auto1" > 
            <input type="text"  x-model="category" class="inputField" placeholder="Category" />
            <div class="autocomplete-full-div" >
                <template x-for="item in itemsCategory" :key="item">
                    <div x-on:click="categoryClick(item)" class="autocomplete-items-div" x-text="item.name"></div>
                </template>
            </div>
        </div>
        <div class="auto2" > 
            <input type="text"  x-model="product" class="inputField" placeholder="Product"/>
            <div class="autocomplete-full-div">
                <template x-for="item in itemsProduct" :key="item">
                    <div class="autocomplete-items-div" x-text="item.name"></div>
                </template>
            </div>
        </div>
    <button class="button1"> Submit </button>
        <div class="clearFix"></div>

    </div>


</body>

<script>
    function data() {
        return {
            value: "",
            itemsCategory:[],
            itemsProduct:[],
            category: "",
            product: "",
            
            itemsProductAll: [
            {
                name: 'Riyad'
            },
            {
                name: 'Maliha'
            },
            {
                name: 'Madhab'
            },
            {
                name: 'Arif'
            },
            {
                name: 'Sazzad'
            },
            ],

            itemsCategoryAll: [
            {
                name: 'Riyad'
            },
            {
                name: 'Maliha'
            },
            {
                name: 'Madhab'
            },
            {
                name: 'Arif'
            },
            {
                name: 'Sazzad'
            },
            ],

            categoryChange(value){
                // this.value = value;
                // this.items.push({ name: value });
                // const regexp = new RegExp(`(${value})*`, 'gi') 

                this.itemsCategory = this.itemsCategoryAll.filter(n=> value == n.name);

                console.log('this is new value' , value);
            },

            productChange(value){
                // this.value = value;
                // this.items.push({ name: value });
                // let patt = /(${value})*/gi;
                this.itemsProduct = this.itemsProductAll.filter(n=>{n.name == value});

                console.log('this is new value' , value);
            },
            categoryClick(value){
                console.log(value.name);
            }

        }
    }
</script>

</html>